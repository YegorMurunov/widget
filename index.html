<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
</head>
<body>
		<div class="content">
			<h1>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Tenetur non dolores eveniet culpa adipisci ipsam. Asperiores eum accusantium esse, quasi commodi incidunt distinctio porro nihil, cumque rerum amet quis soluta.
			Eaque, voluptatibus aliquid maiores sapiente ipsam vero natus quia, dolorem praesentium modi architecto expedita et, cum aut. Vitae esse dolorum, porro, hic dolor nihil! Dignissimos aut quia ratione doloribus est!
			Praesentium numquam dignissimos magnam cumque sapiente quidem rerum beatae tempore aspernatur amet sed saepe, laudantium exercitationem, unde labore veritatis illum voluptatibus dicta repellat rem quas nam libero inventore. Commodi, suscipit?
			Ipsam libero sed rem, amet, quis, nulla a eveniet vitae aperiam error consequatur, iure numquam magni illo earum nemo ea explicabo eaque culpa vero nihil doloribus qui ut assumenda ratione.
			Accusantium porro est reiciendis aut, animi. Nesciunt quos ducimus quas omnis nulla ratione, ipsum at. Adipisci vitae perspiciatis quod fugiat quia nihil veniam ipsa beatae vero voluptatum. Doloribus, corporis, laborum.</h1>
		</div>
		<div class="content">
			<h1>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Tenetur non dolores eveniet culpa adipisci ipsam. Asperiores eum accusantium esse, quasi commodi incidunt distinctio porro nihil, cumque rerum amet quis soluta.
			Eaque, voluptatibus aliquid maiores sapiente ipsam vero natus quia, dolorem praesentium modi architecto expedita et, cum aut. Vitae esse dolorum, porro, hic dolor nihil! Dignissimos aut quia ratione doloribus est!
			Praesentium numquam dignissimos magnam cumque sapiente quidem rerum beatae tempore aspernatur amet sed saepe, laudantium exercitationem, unde labore veritatis illum voluptatibus dicta repellat rem quas nam libero inventore. Commodi, suscipit?
			Ipsam libero sed rem, amet, quis, nulla a eveniet vitae aperiam error consequatur, iure numquam magni illo earum nemo ea explicabo eaque culpa vero nihil doloribus qui ut assumenda ratione.
			Accusantium porro est reiciendis aut, animi. Nesciunt quos ducimus quas omnis nulla ratione, ipsum at. Adipisci vitae perspiciatis quod fugiat quia nihil veniam ipsa beatae vero voluptatum. Doloribus, corporis, laborum.</h1>
		</div>
		<div class="content">
			<h1>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Tenetur non dolores eveniet culpa adipisci ipsam. Asperiores eum accusantium esse, quasi commodi incidunt distinctio porro nihil, cumque rerum amet quis soluta.
			Eaque, voluptatibus aliquid maiores sapiente ipsam vero natus quia, dolorem praesentium modi architecto expedita et, cum aut. Vitae esse dolorum, porro, hic dolor nihil! Dignissimos aut quia ratione doloribus est!
			Praesentium numquam dignissimos magnam cumque sapiente quidem rerum beatae tempore aspernatur amet sed saepe, laudantium exercitationem, unde labore veritatis illum voluptatibus dicta repellat rem quas nam libero inventore. Commodi, suscipit?
			Ipsam libero sed rem, amet, quis, nulla a eveniet vitae aperiam error consequatur, iure numquam magni illo earum nemo ea explicabo eaque culpa vero nihil doloribus qui ut assumenda ratione.
			Accusantium porro est reiciendis aut, animi. Nesciunt quos ducimus quas omnis nulla ratione, ipsum at. Adipisci vitae perspiciatis quod fugiat quia nihil veniam ipsa beatae vero voluptatum. Doloribus, corporis, laborum.</h1>
		</div>
	<div class="video-widget" data-state="default">
		<div class="video-widget__container getreview-widget">

			<video id="video-widget__video" loop="" autoplay="" playsinline="" preload="auto" muted="muted" controlslist="nodownload" disablepictureinpicture="" class="video-widget__video" src="https://dl.dropboxusercontent.com/s/gx036ya61mo8m98/leadgen.cc-ua.mp4?dl=0">
				<source src="https://dl.dropboxusercontent.com/s/je2dxosey0k0r5q/beeline-cover.mp4?dl=0" type="video/mp4">
			</video>
			<div class="video-widget__close"></div>
			<a class="video-widget__button" href="#popup:stepform">Оставить заявку</a>
		</div>

	</div>

	<style>
		.video-widget{position:fixed;left:0;z-index:999999;top:100%}.video-widget__container{font-family:Helvetica;z-index:999999;overflow:hidden;border-style:solid;background:#eee;-webkit-transition:width .3s ease-in-out 0s,height .3s ease-in-out 0s,bottom .3s ease-in-out 0s,border-color .2s ease-in-out 0s,opacity 1s ease-in-out 0s,-webkit-transform .2s ease-in-out 0s;transition:width .3s ease-in-out 0s,height .3s ease-in-out 0s,bottom .3s ease-in-out 0s,border-color .2s ease-in-out 0s,opacity 1s ease-in-out 0s,-webkit-transform .2s ease-in-out 0s;-o-transition:width .3s ease-in-out 0s,height .3s ease-in-out 0s,bottom .3s ease-in-out 0s,border-color .2s ease-in-out 0s,opacity 1s ease-in-out 0s,-o-transform .2s ease-in-out 0s;-moz-transition:transform .2s ease-in-out 0s,width .3s ease-in-out 0s,height .3s ease-in-out 0s,bottom .3s ease-in-out 0s,border-color .2s ease-in-out 0s,opacity 1s ease-in-out 0s,-moz-transform .2s ease-in-out 0s;transition:transform .2s ease-in-out 0s,width .3s ease-in-out 0s,height .3s ease-in-out 0s,bottom .3s ease-in-out 0s,border-color .2s ease-in-out 0s,opacity 1s ease-in-out 0s;transition:transform .2s ease-in-out 0s,width .3s ease-in-out 0s,height .3s ease-in-out 0s,bottom .3s ease-in-out 0s,border-color .2s ease-in-out 0s,opacity 1s ease-in-out 0s,-webkit-transform .2s ease-in-out 0s,-moz-transform .2s ease-in-out 0s,-o-transform .2s ease-in-out 0s;outline:0;cursor:pointer;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-box-shadow:rgba(0,0,0,.2) 0 10px 20px;box-shadow:rgba(0,0,0,.2) 0 10px 20px;position:absolute;left:20px;bottom:50px;border-radius:20px;border-width:5px;width:130px;height:180px;border-color:#fff}.video-widget__container:hover{-webkit-transform:scale(1.05) translate(5px,-5px);-moz-transform:scale(1.05) translate(5px,-5px);-ms-transform:scale(1.05) translate(5px,-5px);-o-transform:scale(1.05) translate(5px,-5px);transform:scale(1.05) translate(5px,-5px);border-color:#131344}.video-widget__video{-o-object-fit:cover;object-fit:cover;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:100%;height:100%;min-width:100%;min-height:100%;z-index:200;-webkit-transition:opacity .4s ease-in-out 0s;-o-transition:opacity .4s ease-in-out 0s;-moz-transition:opacity .4s ease-in-out 0s;transition:opacity .4s ease-in-out 0s;opacity:.9}.video-widget__close{position:absolute;top:6px;right:6px;width:20px;height:20px;z-index:250;opacity:0;-webkit-transition:opacity .2s ease-in-out 0s,-webkit-transform .3s ease-in-out 0s;transition:opacity .2s ease-in-out 0s,-webkit-transform .3s ease-in-out 0s;-o-transition:opacity .2s ease-in-out 0s,-o-transform .3s ease-in-out 0s;-moz-transition:transform .3s ease-in-out 0s,opacity .2s ease-in-out 0s,-moz-transform .3s ease-in-out 0s;transition:transform .3s ease-in-out 0s,opacity .2s ease-in-out 0s;transition:transform .3s ease-in-out 0s,opacity .2s ease-in-out 0s,-webkit-transform .3s ease-in-out 0s,-moz-transform .3s ease-in-out 0s,-o-transform .3s ease-in-out 0s}.video-widget__close:after,.video-widget__close:before{position:absolute;left:9px;top:1px;content:" ";height:18px;width:2px;background:#fff;-webkit-box-shadow:rgba(0,0,0,.5) 1px 1px 10px;box-shadow:rgba(0,0,0,.5) 1px 1px 10px}.video-widget__close:before{-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.video-widget__close:after{-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg);transform:rotate(-45deg)}.video-widget__container:hover .video-widget__close{opacity:.5}.video-widget.video-widget[data-state=opened] .video-widget__container{width:280px;height:500px;border-radius:20px;border-color:#fff}.video-widget.video-widget[data-state=opened] .video-widget__close{opacity:.5}.video-widget.video-widget[data-state=opened] .video-widget__close:before{display:none}.video-widget.video-widget[data-state=opened] .video-widget__close:after{-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-ms-transform:rotate(90deg);-o-transform:rotate(90deg);transform:rotate(90deg)}.video-widget.video-widget[data-state=opened] .video-widget__close:hover{opacity:1}.video-widget__button{position:absolute;bottom:20px;right:20px;left:20px;height:65px;border-radius:10px;z-index:300;-webkit-box-shadow:rgba(0,0,0,.25) 0 4px 15px;box-shadow:rgba(0,0,0,.25) 0 4px 15px;text-align:center;-webkit-transition:opacity .3s ease-in-out 0s,background-color .2s ease-in-out 0s,-webkit-transform .2s ease-in-out 0s;transition:opacity .3s ease-in-out 0s,background-color .2s ease-in-out 0s,-webkit-transform .2s ease-in-out 0s;-o-transition:opacity .3s ease-in-out 0s,background-color .2s ease-in-out 0s,-o-transform .2s ease-in-out 0s;-moz-transition:transform .2s ease-in-out 0s,opacity .3s ease-in-out 0s,background-color .2s ease-in-out 0s,-moz-transform .2s ease-in-out 0s;transition:transform .2s ease-in-out 0s,opacity .3s ease-in-out 0s,background-color .2s ease-in-out 0s;transition:transform .2s ease-in-out 0s,opacity .3s ease-in-out 0s,background-color .2s ease-in-out 0s,-webkit-transform .2s ease-in-out 0s,-moz-transform .2s ease-in-out 0s,-o-transform .2s ease-in-out 0s;visibility:hidden;background-color:#fdd82a;font-size:14px;font-family:Helvetica;color:#000;text-align:center;vertical-align:middle;line-height:65px;text-transform:uppercase;opacity:0}.video-widget__button:hover{background-color:#ffe257;text-decoration:none}.video-widget.video-widget[data-state=opened] .video-widget__button{opacity:1;visibility:visible}@media only screen and (max-width:1023px){.video-widget__close{opacity:.5}}@media only screen and (max-width:479px){.video-widget__container{left:15px;bottom:15px;width:90px;height:125px}}
		.video-widget__button  {color: #000000 !important; text-decoration: none;}
	</style>

	<script>
		$(document).ready(function() {
		var e = $(".video-widget"),
			lastTime = 0,
			a = document.getElementById("video-widget__video");

		$(".video-widget__close").click(function(t) {

		return t.preventDefault(), "default" == e.attr("data-state") ? e.hide() : closeWidget(), !1

		}), $(".video-widget__container").on("click", function(t) {

		function closeWidget() {
			lastTime = a.currentTime;
			e.attr("data-state", "default");
			a.muted = !0;
		}

		"default" == e.attr("data-state") ? (e.attr("data-state", "opened"), a.currentTime = lastTime, a.muted = !1) : closeWidget();

		}), 1024 < $(document).width() && $(".video-widget__container").on("touchstart", function(t) {

		"default" == e.attr("data-state") ? (e.attr("data-state", "opened"), a.currentTime = lastTime, a.muted = !1) : closeWidget();
		}), $(document).mouseup(function(t) {

		e.is(t.target) || 0 !== e.has(t.target).length || "default" == e.attr("data-state") ||(lastTime = a.currentTime,e.attr("data-state", "default"),a.muted = !0)
		})

		let opened = false;
		dragElement(document.querySelector('.video-widget'));

		function dragElement(elmnt) {
		  var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
		  if (document.getElementById(elmnt.id + "header")) {
		    /* if present, the header is where you move the DIV from:*/
		    document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
		  } else {
		    /* otherwise, move the DIV from anywhere inside the DIV:*/
		    elmnt.onmousedown = (e) => {
		    	let x1 = e.clientX;
					let y1 = e.clientY;
		    	dragMouseDown(e,x1,y1);
		    };
		  }

		  function dragMouseDown(e,x1,y1) {
		  	console.log('mouseDown')
		  	if ( document.querySelector('.video-widget').getAttribute('data-state') == 'opened' ) {
					opened = true;
				} else {
					opened = false;
				}
		    e = e || window.event;
		    // get the mouse cursor position at startup:
		    pos3 = e.clientX;
		    pos4 = e.clientY;
		    document.querySelector('.video-widget').style.position = 'absolute';
		    // call a function whenever the cursor moves:
		    document.onmouseup = (e) => {
		    	let x2 = e.clientX;
		    	let y2 = e.clientY;
		    	if ( x2 == x1 || y2 == y1 ) {
		    		document.onmouseup = null;
		    		document.onmousemove = null;
						return;
					} else {
						closeDragElement();
					}
		    }
		    document.onmousemove = (e) => {
		    	elementDrag(e)
		    };
		  }

		  function elementDrag(e) {
		  	console.log('drag')

		    e = e || window.event;
		    // calculate the new cursor position:
		    pos1 = pos3 - e.clientX;
		    pos2 = pos4 - e.clientY;
		    pos3 = e.clientX;
		    pos4 = e.clientY;
		    // set the element's new position:
		    elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
		    elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
		  }

		  function closeDragElement() {
		    /* stop moving when mouse button is released:*/
		    document.onmouseup = null;
		    document.onmousemove = null;
		    document.querySelector('.video-widget').style.position = 'fixed';
		    setTimeout(() => {
		    	console.log(opened)
		    	if ( opened ) {
		    		document.querySelector('.video-widget').setAttribute("data-state", "opened");
		    		a.currentTime = lastTime;
		    		a.muted = !1;
		    	} else {
		    		lastTime = a.currentTime;
						document.querySelector('.video-widget').setAttribute("data-state", "default");
						a.muted = !0;
		    	}
		    },0)
		  }
		}

		});

	</script>
</body>
</html>